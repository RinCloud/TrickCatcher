update(2 * i, L, mid, a[i], b[i], r - (a[i] - 1));
