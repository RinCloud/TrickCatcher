# Given string `S`
S = input()

# Count the number of `0`, `1`, and `?` in `S`
count_0 = S.count('0')
count_1 = S.count('1')
count_question_marks = S.count('?')

# Calculate the maximum possible unbalancedness of `S'`
max_unbalancedness = max(count_0, count_1) + count_question_marks // 2

# Print the minimum possible unbalancedness of `S'`
print(max_unbalancedness)